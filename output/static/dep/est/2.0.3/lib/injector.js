/*! 2015 Baidu Inc. All Rights Reserved */
var path=require("path"),injector=null;module.exports={install:function(e,t){var r=this.getInstance(e);if(t.addPreProcessor)t.addPreProcessor(r)},getInstance:function(e){function t(e){this.options=e||{}}if(!injector){e.FileManager;t.prototype.process=function(e,t){var r='@import "all.less";\n',n=t.imports.contentsIgnoredChars,a=t.fileInfo;if(n[a.filename]=n[a.filename]||0,n[a.filename]+=r.length,!t.context.paths)t.context.paths=[];return t.context.paths.push(path.resolve(__dirname,"../src")),r+e},injector=new t(this.options)}return injector}};